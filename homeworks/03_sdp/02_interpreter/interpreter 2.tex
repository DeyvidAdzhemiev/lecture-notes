\documentclass[12pt,a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{listings}
\usepackage{url}
\usepackage[bulgarian]{babel}
\usepackage{listings}
\usepackage{enumerate}
\usepackage{hyperref}
\usepackage{relsize}

\lstset{breaklines=true} 


\author{\textit{email: kalin@fmi.uni-sofia.bg}}
\title{\textsc{Задачи за задължителна самоподготовка} \\
по \\
Структури от данни и програмиране\\
\textit{Задачи върху интерпретатора}}



\begin{document}
\maketitle

Задачи върху разработвания на лекции интерпретатор:

\begin{enumerate}

	\item Да се добави цикъл \texttt{while} към интерпретатора.

	\item Да се измени интерпретаторът така, че да може при извикване на функция да се подават повече параметри, отколкото са необходими. Например фунцията \texttt{recprint} да може да се изпълнява с

	 \texttt{recprint 10 10 10 .}


	\item Да реализира възможност функциите да достъпват глобалните променливи. Да се приеме, че глобалните променливи са тези, които са в нулевата стекова рамка.

	\item Във \texttt{functions.cpp} лиспва пълна реализация на печатането в \texttt{dotty} формат на възлите на синтактичното дърво, представящи \texttt{define} и \texttt{call}. Да се допълни реализацията.

	\item Да се добави възможност функциите да се предават като параметри и да се връщат като стойности. 

	\begin{flushleft}
	\relscale{0.6} 
	Упътване: 
	\begin{itemize}
		\item Нужен е нов наследник на \texttt{Value}, който представя ``стойност-функция''. 
		\item \texttt{define} трябва да записва дефинираната-функция стойност в стековата рамка, заедно с останалите променливи. 

		Най-добре би било \texttt{define} да се елеминира и да се замести с \texttt{lambda}, която само създава стойност-функция, а самото записване в стековата рамка да става с \texttt{assign}. Например:

		\texttt{assign sum lambda a b c do + a + b c}


		\item \texttt{call} трябва да се промени така, че вместо име на функция (идентификатор), да получава израз, който да се предполага, че се оценява до стойност-функция. 
	\end{itemize}
		
	\end{flushleft}

	\item Класовете на абстрактното синтактично дърво да се разширят с метод \texttt{void prettyprint (ostream\&)}, чрез който входната програма може да се печата ``подредено'', т.е. всеки оператор - на нов ред, а вложените изрази да са идентирани.

	Пример. Следната програма
	\begin{verbatim}
		start define sumall a do if a then + a call sumall - a 1 
		. else 0 assign a sumall 10 printline a end end
	\end{verbatim}

	Да може да се отпечата като:

	\begin{verbatim}
start
  define sumall a do 
    if a 
      then 
        + a call sumall - a 1 . 
      else 
        0 
   assign a 
     sumall 10 
   printline a end
end   
	\end{verbatim}

	\item Към горната задача да се донави условието за печатане на ноемра на редовете:
	\begin{verbatim}
1: start
2:    define sumall a do 
3:      if a 
4:        then 
5:          + a call sumall - a 1 . 
6:        else 
7:          0 
8:     assign a 
9:       sumall 10 
10:    printline a end
11: end   

	\end{verbatim}


\end{enumerate}






\end{document}

